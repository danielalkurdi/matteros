{% extends "base.html" %}
{% block title %}Settings{% endblock %}
{% block content %}
<h2>Settings</h2>
<div class="card">
    <p><strong>Home Directory:</strong> {{ home }}</p>
    <p><strong>Profile:</strong> {{ config.profile.name }}</p>
    <p><strong>Config Version:</strong> {{ config.config_version }}</p>
</div>

<h2>Paths</h2>
<div class="card">
    <p><strong>Workspace:</strong> {{ config.paths.workspace_path }}</p>
    <p><strong>Default Playbook:</strong> {{ config.paths.default_playbook }}</p>
    <p><strong>Fixtures Root:</strong> {{ config.paths.fixtures_root or "not set" }}</p>
</div>

<h2>LLM Configuration</h2>
<div class="card">
    <p><strong>Provider:</strong> {{ config.llm.provider }}</p>
    <p><strong>Remote Enabled:</strong> {{ config.llm.remote_enabled }}</p>
    <p><strong>Model Allowlist:</strong> {{ config.llm.model_allowlist | join(", ") or "none" }}</p>
</div>

<h2>Microsoft Graph</h2>
<div class="card">
    <p><strong>Tenant ID:</strong> {{ config.ms_graph.tenant_id }}</p>
    <p><strong>Auth Pending:</strong> {{ config.ms_graph.auth_pending }}</p>
</div>

<h2>Connectors</h2>
<div class="card">
    <p><strong>Slack:</strong> {{ "enabled" if config.connectors.slack_enabled else "disabled" }}</p>
    <p><strong>Jira:</strong> {{ "enabled" if config.connectors.jira_enabled else "disabled" }}</p>
    <p><strong>GitHub:</strong> {{ "enabled" if config.connectors.github_enabled else "disabled" }}</p>
    <p><strong>iCal:</strong> {{ "enabled" if config.connectors.ical_enabled else "disabled" }}</p>
</div>

<h2>Onboarding</h2>
<div class="card">
    <p><strong>Completed At:</strong> {{ config.onboarding.completed_at or "not completed" }}</p>
    <p><strong>Last Smoke Test:</strong> {{ config.onboarding.last_smoke_test_status or "never run" }}</p>
</div>
{% endblock %}
