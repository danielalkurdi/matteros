{% extends "base.html" %}
{% block title %}Approvals{% endblock %}
{% block content %}
<h2>Approval Queue</h2>
<table>
    <thead>
        <tr><th>ID</th><th>Run</th><th>Step</th><th>Index</th><th>Decision</th><th>Reviewer</th><th>Created</th></tr>
    </thead>
    <tbody>
        {% for a in approvals %}
        <tr>
            <td>{{ a.id[:8] }}</td>
            <td><a href="/runs/{{ a.run_id }}" style="color: var(--accent)">{{ a.run_id[:8] }}</a></td>
            <td>{{ a.step_id }}</td>
            <td>{{ a.item_index }}</td>
            <td>
                {% if a.decision == "approve" %}<span class="badge badge-green">{{ a.decision }}</span>
                {% elif a.decision == "reject" %}<span class="badge badge-red">{{ a.decision }}</span>
                {% else %}<span class="badge badge-yellow">{{ a.decision }}</span>{% endif %}
            </td>
            <td>{{ a.reviewer }}</td>
            <td>{{ a.created_at[:19] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
