{% extends "base.html" %}
{% block title %}Runs{% endblock %}
{% block content %}
<h2>All Runs</h2>
<table>
    <thead>
        <tr><th>Run ID</th><th>Playbook</th><th>Status</th><th>Started</th><th>Ended</th><th>Dry Run</th></tr>
    </thead>
    <tbody>
        {% for run in runs %}
        <tr>
            <td><a href="/runs/{{ run.id }}" style="color: var(--accent)">{{ run.id[:8] }}</a></td>
            <td>{{ run.playbook_name }}</td>
            <td>
                {% if run.status == "completed" %}<span class="badge badge-green">{{ run.status }}</span>
                {% elif run.status == "failed" %}<span class="badge badge-red">{{ run.status }}</span>
                {% else %}<span class="badge badge-yellow">{{ run.status }}</span>{% endif %}
            </td>
            <td>{{ run.started_at[:19] }}</td>
            <td>{{ (run.ended_at[:19] if run.ended_at else "-") }}</td>
            <td>{{ "yes" if run.dry_run else "no" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
